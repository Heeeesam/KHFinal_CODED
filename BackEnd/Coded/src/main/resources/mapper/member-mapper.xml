<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  <mapper namespace="Member">
  	<select id="selectMemberById" resultType="kh.coded.dto.MemberDTO">
  		select * from member where userID = #{userID}
  	</select>
  	<select id="selectMemberByUserNo" resultType="kh.coded.dto.MemberDTO">
  		select * from member where userNo = ${userNo}
  	</select>
  	<select id="isMemberId" resultType="boolean">
  		select * from member where userID = #{userID}
  	</select>
  	<insert id="insertMember">
  		<selectKey keyProperty="userNo" resultType="int" order="BEFORE">
  			select member_userNo.nextval from dual
  		</selectKey>
  			insert into member values(${userNo},#{userId},#{pw},#{userNickName},
  			#{bio},#{favBrand},#{address1},#{address2},#{ROLE},#{naverToken},#{kakaoToken},#{googleToken})
  	</insert>
	<delete id="deleteMember">
		delete member where userID = #{userID} and pw = #{pw}
	</delete>
	<update id="updateMember">
		update member set usernickname = #{userNickName}, bio = #{bio}, favbrand = #{favBrand},
		 address1 = #{address1}, address2 = #{address2} where userID = #{userID}
	</update>
	<update id="updatePw">
		update member set pw = #{pw} where userID = #{userID}
	</update>
  </mapper>